<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	div{
		overflow: hidden
	}
	li{
		padding: 0;margin: 0;list-style: none;float: left;padding-left: 10px
	}
	.active1{
		color:red;
	}
	.active2{
		color:red;
	}

	</style>
</head>
<body>
	<div id="area">
		<li class="active1">徐汇区</li>
		<li>黄埔区</li>
	</div>
	<div id="part">
		<li class="active2">口腔</li>
		<li>眼眉整形</li>
		<li>毛发</li>
	</div>


	<script type="text/javascript">
		 function requestAjax(url,callback){
          var request = new XMLHttpRequest();
          request.open('GET',url,true);
          request.send();
          request.onreadystatechange = function(){
            if (request.readyState == 4 && request.status == 200) {
                    var str = request.responseText;
                    var obj = JSON.parse(str);
                    if (callback) {
                          callback(obj);
                    };
            };
          };
        };
        var area = document.querySelector("#area")
        var part = document.querySelector("#part")

        var li1 = area.getElementsByTagName("li")
        var li2 = part.getElementsByTagName("li")

        for (var i = 0; i < li1.length; i++) {
        	li1[i].onclick = function(){
        		for (var j = 0; j < li1.length; j++) {
        			li1[j].className = ""
        		};
        		this.className = "active1"
        		var active = document.querySelector(".active2")

        		console.log(active.innerHTML + this.innerHTML)
        		requestAjax("../../php/code/text0.php?area="+this.innerHTML+"&part="+active.innerHTML,function(obj){
        			for (var i = 0; i < obj.length; i++) {
        				var div = document.createElement("div")
						div.innerHTML = obj[i].goods_area +" "+ obj[i].goods_part
						document.body.appendChild(div)
        			};
        		})

        	}
        };

        for (var i = 0; i < li2.length; i++) {
        	li2[i].onclick = function(){
        		for (var j = 0; j < li2.length; j++) {
        			li2[j].className = ""
        		};
        		this.className = "active2"

        		var active = document.querySelector(".active1")
        		console.log(active.innerHTML + this.innerHTML)
        		requestAjax("../../php/code/text0.php?area="+active.innerHTML+"&part="+this.innerHTML,function(obj){
        			for (var i = 0; i < obj.length; i++) {
        				var div = document.createElement("div")
						div.innerHTML = obj[i].goods_area +" "+ obj[i].goods_part
						document.body.appendChild(div)
        			};
        		})
        	}
        };

        var a = window.location.href
        console.log(a)

     

	</script>
</body>
</html>